\hypertarget{i8254_8h_source}{}\doxysection{i8254.\+h}
\label{i8254_8h_source}\index{libraries/timer/include/i8254.h@{libraries/timer/include/i8254.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef \_LCOM\_I8254\_H\_}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define \_LCOM\_I8254\_H\_}}
\DoxyCodeLine{3 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <lcom/lcf.h>}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#define TIMER\_FREQ 1193182 }}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#define TIMER\_MIN\_FREQ (TIMER\_FREQ / UINT16\_MAX) + ((TIMER\_FREQ \% UINT16\_MAX) ? 1 : 0) }}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#define TIMER0\_IRQ 0 }}
\DoxyCodeLine{17 \textcolor{comment}{/* I/O port addresses */}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#define TIMER\_0    0x40 }}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#define TIMER\_1    0x41 }}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#define TIMER\_2    0x42 }}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#define TIMER\_CTRL 0x43 }}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#define SPEAKER\_CTRL 0x61 }}
\DoxyCodeLine{26 \textcolor{comment}{/* Timer control */}}
\DoxyCodeLine{27 }
\DoxyCodeLine{28 \textcolor{comment}{/* Timer selection: bits 7 and 6 */}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{preprocessor}{\#define TIMER\_SEL0   0x00              }}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#define TIMER\_SEL1   BIT(6)            }}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#define TIMER\_SEL2   BIT(7)            }}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#define TIMER\_RB\_CMD (BIT(7) | BIT(6)) }}
\DoxyCodeLine{35 \textcolor{comment}{/* Register selection: bits 5 and 4 */}}
\DoxyCodeLine{36 }
\DoxyCodeLine{37 \textcolor{preprocessor}{\#define TIMER\_LSB     BIT(4)                  }}
\DoxyCodeLine{38 \textcolor{preprocessor}{\#define TIMER\_MSB     BIT(5)                  }}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#define TIMER\_LSB\_MSB (TIMER\_LSB | TIMER\_MSB) }}
\DoxyCodeLine{41 \textcolor{comment}{/* Operating mode: bits 3, 2 and 1 */}}
\DoxyCodeLine{42 }
\DoxyCodeLine{43 \textcolor{preprocessor}{\#define TIMER\_SQR\_WAVE (BIT(2) | BIT(1)) }}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#define TIMER\_RATE\_GEN BIT(2)            }}
\DoxyCodeLine{46 \textcolor{comment}{/* Counting mode: bit 0 */}}
\DoxyCodeLine{47 }
\DoxyCodeLine{48 \textcolor{preprocessor}{\#define TIMER\_BCD 0x01 }}
\DoxyCodeLine{49 \textcolor{preprocessor}{\#define TIMER\_BIN 0x00 }}
\DoxyCodeLine{51 \textcolor{comment}{/* READ-\/BACK COMMAND FORMAT */}}
\DoxyCodeLine{52 }
\DoxyCodeLine{53 \textcolor{preprocessor}{\#define TIMER\_RB\_COUNT\_  BIT(5)}}
\DoxyCodeLine{54 \textcolor{preprocessor}{\#define TIMER\_RB\_STATUS\_ BIT(4)}}
\DoxyCodeLine{55 \textcolor{preprocessor}{\#define TIMER\_RB\_SEL(n)  BIT((n) + 1)}}
\DoxyCodeLine{56 }
\DoxyCodeLine{59 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* \_LCOM\_I8254\_H */}\textcolor{preprocessor}{}}

\end{DoxyCode}
